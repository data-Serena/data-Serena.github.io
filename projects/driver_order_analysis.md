# ç½‘çº¦è½¦å¹³å°å®Œå•é‡æå‡åˆ†æ

âš ï¸ æœ¬é¡¹ç›®ä»…å±•ç¤ºåˆ†ææ€è·¯ï¼Œæ‰€æœ‰æ•°æ®å‡ä¸ºè™šæ‹Ÿæ•°æ®ï¼Œç”¨äºæ¼”ç¤ºæ•°æ®åˆ†ææµç¨‹ä¸æ–¹æ³•ã€‚

## ğŸ“Œ é¡¹ç›®èƒŒæ™¯

éšç€ç½‘çº¦è½¦å¸‚åœºçš„ç«äº‰åŠ å‰§ï¼Œæé«˜å¹³å°çš„å¸æœºå®Œå•é‡æ˜¯ä¼˜åŒ–è¿åŠ›æ•ˆç‡ã€æå‡ç”¨æˆ·æ»¡æ„åº¦å’Œå¹³å°è¥æ”¶çš„æ ¸å¿ƒç›®æ ‡ã€‚æœ¬é¡¹ç›®é€šè¿‡æ•°æ®åˆ†ææ–¹æ³•ï¼Œä»å¤šä¸ªç»´åº¦æ‹†è§£å’Œè¯„ä¼°å½±å“å®Œå•é‡çš„å…³é”®å› ç´ ï¼Œå¹¶æå‡ºä¼˜åŒ–å»ºè®®ã€‚

## ğŸ“Š æ•°æ®è¯´æ˜

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹4å¼ æ•°æ®è¡¨ï¼š

- **orders.csv**: è®¢å•ä¿¡æ¯ï¼ˆå«æ—¶é—´ã€é‡Œç¨‹ã€é‡‘é¢ç­‰ï¼‰
- **driver\_activity.csv**: å¸æœºæ´»è·ƒåº¦æ•°æ®ï¼ˆæŒ‰æ—¶æ®µç»Ÿè®¡ï¼‰
- **user\_requests.csv**: ç”¨æˆ·å«è½¦è¯·æ±‚æ•°æ®ï¼ˆå«æ˜¯å¦æˆåŠŸåŒ¹é…ï¼‰
- **weather\_holidays.csv**: å¤–éƒ¨å¤©æ°”ä¸èŠ‚å‡æ—¥ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰

## ğŸ¯ åˆ†æç›®æ ‡

1. **æŒ‡æ ‡æ‹†è§£ï¼š** å°†â€œå®Œå•é‡â€æ‹†è§£ä¸ºä¾›ç»™ã€éœ€æ±‚ã€åŒ¹é…æ•ˆç‡ç­‰å¤šä¸ªç»´åº¦ä¸‹çš„ç»†åˆ†æŒ‡æ ‡ã€‚
2. **å¤šç»´åˆ†æï¼š** ä»æ—¶é—´ã€ç©ºé—´ã€ç”¨æˆ·ç¾¤ä½“ã€å¸æœºç¾¤ä½“ç­‰å¤šä¸ªè§’åº¦è¿›è¡Œäº¤å‰åˆ†æã€‚
3. **å› æœæ¨æ–­ï¼ˆåˆæ­¥ï¼‰ï¼š** é€šè¿‡å¯¹æ¯”åˆ†æã€è¶‹åŠ¿åˆ†æã€ç›¸å…³æ€§åˆ†æç­‰æ–¹æ³•ï¼Œåˆæ­¥æ¨æ–­å½±å“å› ç´ ã€‚
4. **ç­–ç•¥è¯„ä¼°æ€ç»´ï¼š** è¿ç”¨å‰åå¯¹æ¯”ã€åŒºåŸŸå¯¹æ¯”ç­‰æ–¹å¼ï¼Œè¿‘ä¼¼æ¨¡æ‹ŸA/Bæµ‹è¯•æ•ˆæœè¯„ä¼°ã€‚
5. **æ•°æ®å¯è§†åŒ–ï¼š** ä½¿ç”¨æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€åˆ†å¸ƒå›¾ç­‰æ¸…æ™°å±•ç¤ºç»“æœã€‚

## ğŸ§© åˆ†æè¿‡ç¨‹ä¸ç»“æœ

### 1. æŒ‡æ ‡æ‹†è§£

```python
orders['is_completed'] = orders['status'] == 'completed'
daily_summary = orders.groupby('date').agg({
    'order_id': 'count',
    'is_completed': 'sum'
}).rename(columns={'order_id': 'æ€»è®¢å•é‡', 'is_completed': 'å®Œå•é‡'})

# åŒ¹é…æ•ˆç‡ = å®Œå•é‡ / è¯·æ±‚é‡
daily_requests = user_requests.groupby('date').size().rename('è¯·æ±‚é‡')
daily_summary = daily_summary.join(daily_requests)
daily_summary['åŒ¹é…æ•ˆç‡'] = daily_summary['å®Œå•é‡'] / daily_summary['è¯·æ±‚é‡']
```

### 2. å¤šç»´åˆ†æ

#### â° æ—¶é—´ç»´åº¦

```python
orders['hour'] = pd.to_datetime(orders['request_time']).dt.hour
hourly_orders = orders.groupby('hour')['is_completed'].mean()
hourly_orders.plot(title='å°æ—¶ç»´åº¦å®Œå•ç‡')
```

#### ğŸ“ ç©ºé—´ç»´åº¦

```python
area_completion = orders.groupby('origin_area')['is_completed'].mean()
area_completion.plot(kind='bar', title='åŒºåŸŸå®Œå•ç‡')
```

#### ğŸ‘¥ ç”¨æˆ·&å¸æœºç¾¤ä½“ç‰¹å¾

ç”¨æˆ·è®¢å•é¢‘æ¬¡åˆ†å¸ƒã€å¸æœºå®Œå•ç‡åˆ†å¸ƒå›¾ä½¿ç”¨ `sns.histplot()` å±•ç¤ºã€‚

### 3. åˆæ­¥å› æœæ¨æ–­

```python
orders['date'] = pd.to_datetime(orders['request_time']).dt.date
orders['is_holiday'] = orders['date'].isin(weather[weather['is_holiday'] == 1]['date'])
holiday_completion = orders.groupby('is_holiday')['is_completed'].mean()
holiday_completion.plot(kind='bar', title='èŠ‚å‡æ—¥ vs éèŠ‚å‡æ—¥å®Œå•ç‡')
```

### 4. ç­–ç•¥æ•ˆæœè¯„ä¼°ï¼ˆA/Bæµ‹è¯•æ¨¡æ‹Ÿï¼‰

```python
orders['city'] = orders['origin_area'].str.extract(r'(\D+)')
pre = orders[(orders['city'] == 'åŸå¸‚A') & (orders['date'] < pd.to_datetime('2024-01-01'))]
post = orders[(orders['city'] == 'åŸå¸‚A') & (orders['date'] >= pd.to_datetime('2024-01-01'))]
print("ç­–ç•¥å‰å®Œå•ç‡ï¼š", pre['is_completed'].mean())
print("ç­–ç•¥åå®Œå•ç‡ï¼š", post['is_completed'].mean())
```

## ğŸ§  ç­–ç•¥å»ºè®®

- åœ¨é«˜å³°æ—¶æ®µå’Œä½å®Œå•ç‡åŒºåŸŸåŠ å¼ºè¿åŠ›è°ƒåº¦ï¼Œæå‡åŒ¹é…æ•ˆç‡
- é’ˆå¯¹èŠ‚å‡æ—¥æˆ–æ¶åŠ£å¤©æ°”å®Œå–„åŠ¨æ€å®šä»·æœºåˆ¶
- å¯¹ä½é¢‘ç”¨æˆ·è¿›è¡Œæ¿€åŠ±ï¼ˆå¦‚ä¼˜æƒ åˆ¸ï¼‰æå‡ä½¿ç”¨ç‡
- å¼ºåŒ–å¸æœºæ¿€åŠ±æœºåˆ¶ï¼Œä¼˜åŒ–åŒºåŸŸæ´¾å•å’Œæ¥å•ä½“éªŒ

## ğŸ’¼ é¡¹ç›®è´¡çŒ®

- æ¢³ç†å®Œå•é‡æ„æˆä¸å½±å“å› ç´ ï¼Œæ”¯æŒå¹³å°ç²¾ç»†åŒ–è¿è¥
- æä¾›ç­–ç•¥æ¨¡æ‹Ÿæ–¹æ³•è®ºä¸å¯è§†åŒ–è¯„ä¼°æ–¹å¼
- è¾“å‡ºæå‡å®Œå•é‡çš„å¤šç»´ç­–ç•¥å»ºè®®

## ğŸ” åˆ†ææ€è·¯è¿ç§»åœºæ™¯

æœ¬é¡¹ç›®æ‰€é‡‡ç”¨çš„â€œæŒ‡æ ‡æ‹†è§£ + å¤šç»´åˆ†æ + å› æœæ¨æ–­ + ç­–ç•¥æ¨¡æ‹Ÿâ€çš„åˆ†ææ¡†æ¶ï¼Œå¯è¿ç§»è‡³å…¶ä»–åœºæ™¯ï¼š

1. **å¤–å–å¹³å°çš„é…é€å•é‡æå‡åˆ†æ**
    - æ‹†è§£é…é€æˆåŠŸå•é‡ä¸ºï¼šç”¨æˆ·ä¸‹å• â†’ éª‘æ‰‹æ¥å• â†’ éª‘æ‰‹é…é€æˆåŠŸã€‚
    - åˆ†æç»´åº¦ï¼šä¸‹å•æ—¶æ®µã€å¤©æ°”ã€å•†åœˆä½ç½®ã€éª‘æ‰‹æ´»è·ƒåº¦ç­‰ã€‚
    - å¯¹åº”ç­–ç•¥ï¼šå¢åŠ é«˜å³°æœŸéª‘æ‰‹æ¿€åŠ±ç­‰ã€‚
2. **ç”µå•†å¹³å°çš„ä¸‹å•è½¬åŒ–åˆ†æ**
    - å°†è®¢å•è½¬åŒ–æ‹†è§£ä¸ºï¼šè®¿é—® â†’ åŠ è´­ â†’ ä¸‹å• â†’ æˆäº¤ã€‚
    - åˆ†æç”¨æˆ·ç¾¤ä½“è¡Œä¸ºç‰¹å¾ä¸è½¬åŒ–æ¼æ–—è¡¨ç°ã€‚
    - å¯¹åº”ç­–ç•¥ï¼šæå‡å…³é”®é¡µé¢åŠ è½½é€Ÿåº¦ã€è®¾ç½®ä¼˜æƒ å¼•å¯¼ç­–ç•¥ç­‰ã€‚
3. **å®¢æœä¸­å¿ƒçš„å·¥å•å¤„ç†æ•ˆç‡åˆ†æ**
    - æ‹†è§£æµç¨‹ä¸ºï¼šç”¨æˆ·æäº¤ â†’ å®¢æœæ¥å• â†’ é—®é¢˜è§£å†³ã€‚
    - å¤šç»´åˆ†æå®¢æœç­ç»„ã€æ—¶é—´æ®µã€é—®é¢˜ç±»å‹ç­‰ã€‚
    - å¯¹åº”ç­–ç•¥ï¼šä¼˜åŒ–æ’ç­ã€æ™ºèƒ½è·¯ç”±ã€å¤„ç†æµç¨‹ä¼˜åŒ–ã€‚

## ğŸ›  æŠ€æœ¯æ ˆ

- æ•°æ®åˆ†æï¼šPandasã€NumPy
- å¯è§†åŒ–ï¼šMatplotlibã€Seaborn
- å¼€å‘å·¥å…·ï¼šJupyter Notebook / VS Code

---

ğŸ‘‰ [æŸ¥çœ‹å®Œæ•´ä»£ç ](../assets/driver-order-analysis.ipynb)

